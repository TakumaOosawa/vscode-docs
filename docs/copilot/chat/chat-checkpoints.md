---
ContentId: 8f4d3e2a-9b7c-4e1d-a6f5-3c2b1d8e9f0a
DateApproved: 12/10/2025
MetaDescription: Visual Studio Codeで、過去のチャット要求を編集する方法、チェックポイントを使用してワークスペースを以前の状態に復元する方法、チャットによって行われた変更を元に戻す方法について説明します。
MetaSocialImage: ../images/shared/github-copilot-social.png
---
# チェックポイントと要求の編集で変更を元に戻す

Visual Studio Codeのチャットセッションでは、ワークスペース内の1つ以上のファイルが変更される場合があり、手動で元に戻すのは手間がかかることがあります。たとえば、以前のチャット要求を洗練させたい、別のアプローチを試したい、予期しない変更から復旧したい、といった場合があります。

この記事では、過去のチャット要求を編集する方法と、チェックポイントを使用してチャットによって行われたファイル変更をロールバックする方法について説明します。

## 過去のチャット要求を編集する

> [!NOTE]
> チャット要求を編集する機能は、VS Codeバージョン1.102以降で利用できます。

会話履歴内の各チャット要求は編集可能です。過去のチャット要求を編集すると、編集後の要求は新しい要求として言語モデルに送信され、元の要求およびそれ以降の要求によって行われたファイル変更は元に戻されます。

過去のチャット要求を編集するには、チャットビューで変更したい要求を選択し、再送信します。編集エクスペリエンスは、`setting(chat.editRequests)`設定で構成または無効化できます。

<video src="../images/chat-checkpoints/chat-edit-request.mp4" title="チャットビューで過去のチャット要求を編集している様子を示す動画。" autoplay loop controls muted></video>

## チェックポイントを使用してファイル変更を元に戻す

> [!NOTE]
> チェックポイントは、VS Codeリリース1.103以降で利用できます。

チャットチェックポイントは、ワークスペースの状態を過去の時点に復元する方法を提供し、チャットのやり取りによって複数のファイルに変更が生じた場合に役立ちます。

チェックポイントを有効にすると、VS Codeはチャットのやり取り中の重要なタイミングでファイルのスナップショットを自動的に作成します。これにより、チャット要求による変更が想定どおりでなかった場合や、別のアプローチを試したい場合に、既知の良好な状態に戻ることができます。

チェックポイントを有効にするには、`setting(chat.checkpoints.enabled)`設定を構成します。

### チェックポイントを復元する

チェックポイントを復元すると、VS Codeはワークスペースをそのチェックポイント時点の状態に戻します。つまり、そのチェックポイント以降にファイルに加えられた変更は、_すべて_元に戻されます。

ワークスペースを以前のチェックポイントに復元するには、次の手順を行います。

1. チャットビューで、チャットセッション内の過去のチャット要求に移動します。

1. チャット要求にマウスを合わせ、**チェックポイントの復元**を選択します。

    ![チャットビューのスクリーンショット。チャットビュー内の「チェックポイントの復元」アクションを示しています。](../images/chat-checkpoints/chat-restore-checkpoint.png)

1. チェックポイントを復元し、その時点以降に行われたファイル変更を元に戻すことを確認します。

    チャット要求が会話履歴から削除され、ワークスペースのファイルがチェックポイント時点の状態に復元されることに注意してください。

### 復元後にやり直す

以前のチェックポイントに復元した後、元に戻された変更をやり直すことができます。これは、誤ってチェックポイントを復元してしまった場合に役立つことがあります。

チェックポイントを復元した後に変更をやり直すには、チャットビューで**やり直し**を選択します。

![チャットビューのスクリーンショット。チェックポイントを以前の状態に復元した後、変更をやり直すための「やり直し」ボタンを示しています。](../images/chat-checkpoints/chat-redo-checkpoint.png)

### チェックポイント内のファイル変更を表示する

各チャット要求の影響を把握し、どのチェックポイントに復元するかを判断しやすくするために、`setting(chat.checkpoints.showFileChanges)`設定を有効にします。これにより、各チャット要求の終了時に変更されたファイルの一覧と、各ファイルで追加および削除された行数が表示されます。

![チャットビューのスクリーンショット。チャット要求の終了時点でのファイル変更を示しています。](../images/chat-checkpoints/chat-checkpoint-changed-files.png)

## よくある質問

### チェックポイントはGitのバージョン管理の代わりになりますか?

いいえ。チェックポイントはチャットセッション内での迅速な反復のために設計されており、一時的なものです。Gitを補完しますが、置き換えるものではありません。永続的なバージョン管理と共同作業にはGitを使用してください。チェックポイントは、アクティブなチャットセッション中の試行に最適です。

## 関連リソース

* [VS Codeでチャットを始める](/docs/copilot/chat/copilot-chat.md)
